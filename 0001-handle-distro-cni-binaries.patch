From 01a46b918cad8f762df2ac2b9450e1bbe968657b Mon Sep 17 00:00:00 2001
From: Jesus Ornelas Aguayo <jesus.ornelas.aguayo@intel.com>
Date: Thu, 31 Aug 2017 16:23:54 -0500
Subject: [PATCH 1/2] handle-distro-cni-binaries

Signed-off-by: Jesus Ornelas Aguayo <jesus.ornelas.aguayo@intel.com>
Signed-off-by: Simental Magana, Marcos <marcos.simental.magana@intel.com>
---
 pkg/kubelet/network/cni/cni.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/pkg/kubelet/network/cni/cni.go b/pkg/kubelet/network/cni/cni.go
index 1e9c91b..ab80149 100644
--- a/pkg/kubelet/network/cni/cni.go
+++ b/pkg/kubelet/network/cni/cni.go
@@ -134,7 +134,7 @@ func getDefaultCNINetwork(pluginDir, binDir, vendorCNIDirPrefix string) (*cniNet
 		// Search for vendor-specific plugins as well as default plugins in the CNI codebase.
 		vendorDir := vendorCNIDir(vendorCNIDirPrefix, confType)
 		cninet := &libcni.CNIConfig{
-			Path: []string{vendorDir, binDir},
+			Path: []string{vendorDir, binDir, "/usr/libexec/cni"},
 		}
 		network := &cniNetwork{name: confList.Name, NetworkConfig: confList, CNIConfig: cninet}
 		return network, nil
@@ -160,7 +160,7 @@ func getLoNetwork(binDir, vendorDirPrefix string) *cniNetwork {
 		panic(err)
 	}
 	cninet := &libcni.CNIConfig{
-		Path: []string{vendorCNIDir(vendorDirPrefix, "loopback"), binDir},
+		Path: []string{vendorCNIDir(vendorDirPrefix, "loopback"), binDir, "/usr/libexec/cni"},
 	}
 	loNetwork := &cniNetwork{
 		name:          "lo",
-- 
2.9.3

